"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./_tslib-50d11dad.js"),t=require("react");function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}require("@material-ui/core/Avatar"),require("chance"),require("@material-ui/core/colors"),require("@material-ui/styles"),require("@material-ui/core/Tooltip"),require("@material-ui/icons/Info"),require("clsx"),require("@material-ui/core/styles"),require("@material-ui/core/utils"),require("@material-ui/lab/Rating"),require("@material-ui/icons/ReportProblem"),require("@material-ui/icons/Autorenew"),require("@material-ui/icons/Done"),require("@material-ui/core/Chip"),require("@material-ui/lab/Autocomplete"),require("@material-ui/core/InputBase"),require("@material-ui/core/Slider"),require("@material-ui/core/Select"),require("@material-ui/core/MenuItem"),require("@material-ui/core/ListItemIcon"),require("@material-ui/core/ListItemText");var n=r(t),o=i;function i(e){var t=this;if(t instanceof i||(t=new i),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function a(e,t,r){var n=t===e.head?new h(r,null,t,e):new h(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function s(e,t){e.tail=new h(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function l(e,t){e.head=new h(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function h(e,t,r,n){if(!(this instanceof h))return new h(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}i.Node=h,i.create=i,i.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},i.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},i.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},i.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},i.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)l(this,arguments[e]);return this.length},i.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},i.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},i.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},i.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},i.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},i.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},i.prototype.map=function(e,t){t=t||this;for(var r=new i,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},i.prototype.mapReverse=function(e,t){t=t||this;for(var r=new i,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},i.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},i.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},i.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},i.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},i.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new i;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;for(;null!==o&&n<t;n++,o=o.next)r.push(o.value);return r},i.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new i;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,o=this.tail;null!==o&&n>t;n--)o=o.prev;for(;null!==o&&n>e;n--,o=o.prev)r.push(o.value);return r},i.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var i=[];for(n=0;o&&n<t;n++)i.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(n=0;n<r.length;n++)o=a(this,o,r[n]);return i},i.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{!function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}(i)}catch(e){}const u=Symbol("max"),d=Symbol("length"),m=Symbol("lengthCalculator"),p=Symbol("allowStale"),c=Symbol("maxAge"),f=Symbol("dispose"),g=Symbol("noDisposeOnSet"),v=Symbol("lruList"),x=Symbol("cache"),y=Symbol("updateAgeOnGet"),w=()=>1;const b=(e,t,r)=>{const n=e[x].get(t);if(n){const t=n.value;if(C(e,t)){if(A(e,n),!e[p])return}else r&&(e[y]&&(n.value.now=Date.now()),e[v].unshiftNode(n));return t.value}},C=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},E=e=>{if(e[d]>e[u])for(let t=e[v].tail;e[d]>e[u]&&null!==t;){const r=t.prev;A(e,t),t=r}},A=(e,t)=>{if(t){const r=t.value;e[f]&&e[f](r.key,r.value),e[d]-=r.length,e[x].delete(r.key),e[v].removeNode(t)}};class D{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const S=(e,t,r,n)=>{let o=r.value;C(e,o)&&(A(e,r),e[p]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};const R=new class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[u]=e.max||1/0;const t=e.length||w;if(this[m]="function"!=typeof t?w:t,this[p]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[f]=e.dispose,this[g]=e.noDisposeOnSet||!1,this[y]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[u]=e||1/0,E(this)}get max(){return this[u]}set allowStale(e){this[p]=!!e}get allowStale(){return this[p]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,E(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=w),e!==this[m]&&(this[m]=e,this[d]=0,this[v].forEach((e=>{e.length=this[m](e.value,e.key),this[d]+=e.length}))),E(this)}get lengthCalculator(){return this[m]}get length(){return this[d]}get itemCount(){return this[v].length}rforEach(e,t){t=t||this;for(let r=this[v].tail;null!==r;){const n=r.prev;S(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[v].head;null!==r;){const n=r.next;S(this,e,r,t),r=n}}keys(){return this[v].toArray().map((e=>e.key))}values(){return this[v].toArray().map((e=>e.value))}reset(){this[f]&&this[v]&&this[v].length&&this[v].forEach((e=>this[f](e.key,e.value))),this[x]=new Map,this[v]=new o,this[d]=0}dump(){return this[v].map((e=>!C(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[v]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,o=this[m](t,e);if(this[x].has(e)){if(o>this[u])return A(this,this[x].get(e)),!1;const i=this[x].get(e).value;return this[f]&&(this[g]||this[f](e,i.value)),i.now=n,i.maxAge=r,i.value=t,this[d]+=o-i.length,i.length=o,this.get(e),E(this),!0}const i=new D(e,t,o,n,r);return i.length>this[u]?(this[f]&&this[f](e,t),!1):(this[d]+=i.length,this[v].unshift(i),this[x].set(e,this[v].head),E(this),!0)}has(e){if(!this[x].has(e))return!1;const t=this[x].get(e).value;return!C(this,t)}get(e){return b(this,e,!0)}peek(e){return b(this,e,!1)}pop(){const e=this[v].tail;return e?(A(this,e),e.value):null}del(e){A(this,this[x].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[x].forEach(((e,t)=>b(this,t,!1)))}}({max:10,maxAge:3e5});function k(e){const t=Object.getOwnPropertyNames(e);for(const r of t){const t=e[r];t&&"object"==typeof t&&k(t)}return Object.freeze(e)}exports.DemoLink=e.DemoLink,exports.generateFilledQuantity=e.generateFilledQuantity,exports.generateIsFilled=e.generateIsFilled,exports.getCommodityColumns=e.getCommodityColumns,exports.getDate=e.getDate,exports.getEmployeeColumns=e.getEmployeeColumns,exports.getRealData=e.getRealData,exports.random=e.random,exports.randomAddress=e.randomAddress,exports.randomArrayItem=e.randomArrayItem,exports.randomBoolean=e.randomBoolean,exports.randomBrokerId=e.randomBrokerId,exports.randomCity=e.randomCity,exports.randomColor=e.randomColor,exports.randomCommodity=e.randomCommodity,exports.randomCompanyName=e.randomCompanyName,exports.randomContractType=e.randomContractType,exports.randomCountry=e.randomCountry,exports.randomCreatedDate=e.randomCreatedDate,exports.randomCurrency=e.randomCurrency,exports.randomDate=e.randomDate,exports.randomDesk=e.randomDesk,exports.randomEmail=e.randomEmail,exports.randomFeeRate=e.randomFeeRate,exports.randomId=e.randomId,exports.randomIncoterm=e.randomIncoterm,exports.randomInt=e.randomInt,exports.randomJobTitle=e.randomJobTitle,exports.randomMaturityDate=e.randomMaturityDate,exports.randomName=e.randomName,exports.randomPhoneNumber=e.randomPhoneNumber,exports.randomPnL=e.randomPnL,exports.randomPrice=e.randomPrice,exports.randomQuantity=e.randomQuantity,exports.randomRate=e.randomRate,exports.randomRateType=e.randomRateType,exports.randomRating=e.randomRating,exports.randomStatusOptions=e.randomStatusOptions,exports.randomTaxCode=e.randomTaxCode,exports.randomTradeDate=e.randomTradeDate,exports.randomTraderName=e.randomTraderName,exports.randomUnitPrice=e.randomUnitPrice,exports.randomUnitPriceCurrency=e.randomUnitPriceCurrency,exports.randomUpdatedDate=e.randomUpdatedDate,exports.randomUrl=e.randomUrl,exports.randomUserName=e.randomUserName,exports.renderAvatar=e.renderAvatar,exports.renderCountry=e.renderCountry,exports.renderEditCountry=e.renderEditCountry,exports.renderEditCurrency=e.renderEditCurrency,exports.renderEditIncoterm=e.renderEditIncoterm,exports.renderEditProgress=e.renderEditProgress,exports.renderEditRating=e.renderEditRating,exports.renderEditStatus=e.renderEditStatus,exports.renderEmail=e.renderEmail,exports.renderIncoterm=e.renderIncoterm,exports.renderLink=e.renderLink,exports.renderPnl=e.renderPnl,exports.renderProgress=e.renderProgress,exports.renderRating=e.renderRating,exports.renderStatus=e.renderStatus,exports.renderTotalPrice=e.renderTotalPrice,exports.useDemoData=t=>{const[r,o]=n.useState(t.rowLength),[i,a]=n.useState(0),[s,l]=n.useState(!0),h=n.useCallback((()=>{let r="Commodity"===t.dataSet?e.getCommodityColumns(t.editable):e.getEmployeeColumns();return t.maxColumns&&(r=r.slice(0,t.maxColumns)),r}),[t.dataSet,t.editable,t.maxColumns]),[u,d]=n.useState({columns:h(),rows:[]});return n.useEffect((()=>{const n=`${t.dataSet}-${r}-${i}-${t.maxColumns}`;if(R.has(n)){const e=R.get(n);return d(e),void l(!1)}let o=!0;return e.__awaiter(void 0,void 0,void 0,(function*(){let t;l(!0);const i=h();r>1e3?(t=yield e.getRealData(1e3,i),t=yield function(t,r,n){return e.__awaiter(this,void 0,void 0,(function*(){return new Promise((o=>{const i=n.rows,a=n.rows.slice(),s={current:t-i.length};e.asyncWorker({work:function(){const e={};for(let t=0;t<r.length;t+=1){const n=r[t],o=Math.round(Math.random()*(i.length-1));"id"===n.field?e.id=`id-${s.current+i.length}`:e[n.field]=i[o][n.field]}a.push(e),s.current-=1},done:()=>o(Object.assign(Object.assign({},n),{rows:a})),tasks:s})}))}))}(r,i,t)):t=yield e.getRealData(r,i),o&&("production"!==process.env.NODE_ENV&&k(t),R.set(n,t),d(t),l(!1))})),()=>{o=!1}}),[r,u.columns,t.dataSet,t.maxColumns,i,h]),{data:u,loading:s,setRowLength:o,loadNewData:()=>{a((e=>e+1))}}};
