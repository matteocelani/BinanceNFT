{"ast":null,"code":"var _jsxFileName = \"/Users/matteocelani/Documents/FenneMic/GitHub/BinanceNFT/src/Core.js\";\nimport React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport App from './App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Core extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.mySubmitHandler = async event => {\n      event.preventDefault();\n      await axios({\n        method: 'post',\n        url: 'https://www.binance.com/bapi/nft/v1/public/nft/product-list',\n        headers: {\n          \"accept\": \"*/*\",\n          \"accept-language\": \"it-IT,it;q=0.9,en-US;q=0.8,en;q=0.7\",\n          \"clienttype\": \"web\",\n          \"content-type\": \"application/json\",\n          \"lang\": \"en\"\n        },\n        data: this.state.body\n      }).then(response => {\n        this.setState({\n          isLoaded: true,\n          showComponent: true,\n          items: response.data.data.rows,\n          numItems: response.data.data.total\n        });\n        this.componentDidMount();\n\n        if (this.numItems > 100) {\n          this.setState({\n            page: this.state.page + 1,\n            body: \"{\\\"category\\\":0,\\\"keyword\\\":\\\"\" + this.state.itemName + \"\\\",\\\"orderBy\\\":\\\"list_time\\\",\\\"orderType\\\":-1,\\\"page\\\":\" + this.state.page + \",\\\"rows\\\":100}\"\n          });\n          this.componentDidUpdate(this.state.numItems);\n        }\n      }).catch(error => {\n        this.setState({\n          isLoaded: true,\n          showComponent: true,\n          error\n        });\n      });\n    };\n\n    this.myChangeHandler = event => {\n      this.setState({\n        itemName: event.target.value,\n        body: \"{\\\"category\\\":0,\\\"keyword\\\":\\\"\" + this.state.itemName + \"\\\",\\\"orderBy\\\":\\\"list_time\\\",\\\"orderType\\\":-1,\\\"page\\\":\" + this.state.page + \",\\\"rows\\\":100}\"\n      });\n    };\n\n    this.state = {\n      showComponent: false,\n      body: \"\",\n      page: 1,\n      error: null,\n      isLoaded: false,\n      coinsLoad: false,\n      items: [],\n      itemName: \"\",\n      numItems: null,\n      coins: []\n    };\n    this.mySubmitHandler = this.mySubmitHandler.bind(this);\n    this.myChangeHandler = this.myChangeHandler.bind(this);\n  }\n\n  async componentDidMount() {\n    await axios({\n      method: 'get',\n      url: 'https://api.coingecko.com/api/v3/simple/price?ids=ethereum%2Cbinancecoin&vs_currencies=usd'\n    }).then(response => {\n      this.setState({\n        coins: response,\n        coinsLoad: true\n      });\n    }).catch(error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n  async componentDidUpdate(numItem) {\n    console.log(\"qui ci arriva\");\n    console.log(this.state.body);\n\n    if (numItem > 100) {\n      await axios({\n        method: 'post',\n        url: 'https://www.binance.com/bapi/nft/v1/public/nft/product-list',\n        headers: {\n          \"accept\": \"**\",\n          \"accept-language\": \"it-IT,it;q=0.9,en-US;q=0.8,en;q=0.7\",\n          \"clienttype\": \"web\",\n          \"content-type\": \"application/json\",\n          \"lang\": \"en\"\n        },\n        data: this.state.body\n      }).then(response => {\n        console.log(\"qui ci anche\");\n        this.setState(prevState => ({\n          items: [...prevState.arrayvar, response.data.data.rows]\n        }));\n        this.setState({\n          numItems: this.state.numItems - 100\n        });\n\n        if (this.numItems > 100) {\n          this.setState({\n            page: this.state.page + 1,\n            body: \"{\\\"category\\\":0,\\\"keyword\\\":\\\"\" + this.state.itemName + \"\\\",\\\"orderBy\\\":\\\"list_time\\\",\\\"orderType\\\":-1,\\\"page\\\":\" + this.state.page + \",\\\"rows\\\":100}\"\n          });\n          this.componentDidUpdate(this.state.numItems, this.state.page, this.state.body);\n        }\n      }).catch(error => {\n        this.setState({\n          error\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.mySubmitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Enter Box name, and submit:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          onChange: this.myChangeHandler,\n          id: \"standard-basic\",\n          label: \"Search mystery box\",\n          style: {\n            margin: 10\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            margin: 12\n          },\n          variant: \"contained\",\n          color: \"primary\",\n          onChange: this.myChangeHandler,\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }, this), this.state.showComponent ? /*#__PURE__*/_jsxDEV(App, {\n        data: this.state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport { Core };","map":{"version":3,"sources":["/Users/matteocelani/Documents/FenneMic/GitHub/BinanceNFT/src/Core.js"],"names":["React","TextField","Button","axios","App","Core","Component","constructor","props","mySubmitHandler","event","preventDefault","method","url","headers","data","state","body","then","response","setState","isLoaded","showComponent","items","rows","numItems","total","componentDidMount","page","itemName","componentDidUpdate","catch","error","myChangeHandler","target","value","coinsLoad","coins","bind","numItem","console","log","prevState","arrayvar","render","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport App from './App';\n\nclass Core extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showComponent: false,\n      body: \"\",\n      page: 1,\n      error: null,\n      isLoaded: false,\n      coinsLoad : false,\n      items: [],\n      itemName: \"\",\n      numItems: null,\n      coins: []\n    };\n    this.mySubmitHandler = this.mySubmitHandler.bind(this);\n    this.myChangeHandler = this.myChangeHandler.bind(this);\n  }\n\n  async componentDidMount() {\n    await axios({\n      method: 'get',\n      url: 'https://api.coingecko.com/api/v3/simple/price?ids=ethereum%2Cbinancecoin&vs_currencies=usd'\n    })\n      .then((response) => {\n        this.setState({\n          coins: response,\n          coinsLoad: true\n        });\n      })\n      .catch((error) => \n      {\n        this.setState({\n          error\n        });\n      });\n  }\n\n  async componentDidUpdate(numItem) {\n    console.log(\"qui ci arriva\")\n    console.log(this.state.body)\n    if (numItem > 100) {\n      await axios({\n        method: 'post',\n        url: 'https://www.binance.com/bapi/nft/v1/public/nft/product-list',\n        headers: {\n          \"accept\": \"**\",\n          \"accept-language\": \"it-IT,it;q=0.9,en-US;q=0.8,en;q=0.7\",\n          \"clienttype\": \"web\",\n          \"content-type\": \"application/json\",\n          \"lang\": \"en\"\n        },\n        data: this.state.body\n      })\n      .then((response) => {\n        console.log(\"qui ci anche\")\n        this.setState( prevState => ({\n          items: [...prevState.arrayvar, response.data.data.rows],\n        }));\n        this.setState({\n          numItems: this.state.numItems - 100\n        })\n        if (this.numItems > 100) {\n          this.setState({\n              page: this.state.page+1,\n              body: \"{\\\"category\\\":0,\\\"keyword\\\":\\\"\" + this.state.itemName + \"\\\",\\\"orderBy\\\":\\\"list_time\\\",\\\"orderType\\\":-1,\\\"page\\\":\" + this.state.page + \",\\\"rows\\\":100}\",\n          });\n          this.componentDidUpdate(this.state.numItems, this.state.page, this.state.body)\n        }\n      })\n      .catch((error) => \n      {\n        this.setState({\n          error\n        });\n      });\n    }\n  }\n  \n  mySubmitHandler = async (event) => {\n    event.preventDefault();\n    await axios({\n      method: 'post',\n      url: 'https://www.binance.com/bapi/nft/v1/public/nft/product-list',\n      headers: {\n        \"accept\": \"*/*\",\n        \"accept-language\": \"it-IT,it;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"clienttype\": \"web\",\n        \"content-type\": \"application/json\",\n        \"lang\": \"en\"\n      },\n      data: this.state.body\n    })\n      .then((response) => {\n        this.setState({\n          isLoaded: true,\n          showComponent: true,\n          items: response.data.data.rows,\n          numItems: response.data.data.total\n        });\n        this.componentDidMount()\n        if (this.numItems > 100) {\n          this.setState({\n              page: this.state.page+1,\n              body: \"{\\\"category\\\":0,\\\"keyword\\\":\\\"\" + this.state.itemName + \"\\\",\\\"orderBy\\\":\\\"list_time\\\",\\\"orderType\\\":-1,\\\"page\\\":\" + this.state.page + \",\\\"rows\\\":100}\",\n          });\n          this.componentDidUpdate(this.state.numItems)\n        }\n      })\n      .catch((error) => \n      {\n        this.setState({\n          isLoaded: true,\n          showComponent: true,\n          error\n        });\n      });\n  }\n  myChangeHandler = (event) => {\n    this.setState({\n      itemName: event.target.value,\n      body: \"{\\\"category\\\":0,\\\"keyword\\\":\\\"\" + this.state.itemName + \"\\\",\\\"orderBy\\\":\\\"list_time\\\",\\\"orderType\\\":-1,\\\"page\\\":\" + this.state.page + \",\\\"rows\\\":100}\",\n    });\n  }\n  render() {\n\n    return (\n      <div>\n      <form onSubmit={this.mySubmitHandler}>\n        <p>Enter Box name, and submit:</p>\n\n        <TextField\n          onChange={this.myChangeHandler}\n          id=\"standard-basic\"\n          label=\"Search mystery box\"\n          style={{ margin: 10 }} />\n        <Button\n          style={{ margin: 12 }}\n          variant=\"contained\"\n          color=\"primary\"\n          onChange={this.myChangeHandler}\n          type='submit'\n        >\n          Search\n        </Button>\n      </form>\n\n      {this.state.showComponent ?\n      <App data={this.state}/> :\n      null\n     }\n     </div>\n    );\n  }\n}\n\nexport { Core };"]},"metadata":{},"sourceType":"module"}